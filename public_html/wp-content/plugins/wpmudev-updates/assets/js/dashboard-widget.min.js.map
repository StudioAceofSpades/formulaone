{"version":3,"file":"dashboard-widget.min.js","mappings":"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","sources":["webpack://wpmudev-updates/./assets/src/js/dashboard-widget.js"],"sourcesContent":["import '../scss/dashboard-widget.scss';\n\n/**\n * Javascript support for the WordPress dashboard analytics widget.\n *\n * @since  4.6\n */\n\n( function( $ ) {\n\n\t$( function initWidget() {\n\n\t\tfunction widgetTabs() {\n\n\t\t\tvar $wrapper = $( '.wpmudui-tabs' ),\n\t\t\t\t$tabs    = $wrapper.find( '> [data-tabs]' ),\n\t\t\t\t$tab     = $wrapper.find( '> [data-tabs] > [data-tab]' )\n\t\t\t\t;\n\n\t\t\tif ( 0 !== $tabs.length ) {\n\n\t\t\t\t$tab.on( 'click', function( e ) {\n\n\t\t\t\t\tvar $this   = $( this ),\n\t\t\t\t\t\t$parent = $(this).closest( '.wpmudui-tabs' ),\n\t\t\t\t\t\t$panes  = $parent.find( '> [data-panes]' ),\n\t\t\t\t\t\t$pane   = $parent.find( '> [data-panes] > [data-pane]' )\n\t\t\t\t\t\t;\n\n\t\t\t\t\tvar $datatab  = $( this ).data( 'tab' ),\n\t\t\t\t\t\t$datapane = $parent.find( '> [data-panes] > [data-pane=\"' + $datatab + '\"]' )\n\t\t\t\t\t\t;\n\n\t\t\t\t\t// Remove \"current\" class from all tabs\n\t\t\t\t\t$this.parent().find( '> [data-tab]' ).removeClass( 'wpmudui-current' );\n\n\t\t\t\t\t// Add \"current\" class to target tab\n\t\t\t\t\t$this.addClass( 'wpmudui-current' );\n\n\t\t\t\t\tif ( 0 !== $panes.length ) {\n\n\t\t\t\t\t\t// Hide all tabs content\n\t\t\t\t\t\t$pane.hide();\n\n\t\t\t\t\t\t// Show \"current\" tab content\n\t\t\t\t\t\t$datapane.show();\n\n\t\t\t\t\t}\n\n\t\t\t\t\te.stopPropagation();\n\n\t\t\t\t} );\n\t\t\t\t// on pageload change pane to current tab as set in html\n\t\t\t\t$('.wpmudui-analytics-tabs .wpmudui-current').click();\n\t\t\t}\n\n\t\t\t// hook up date range changes.\n\t\t\t$('.wpmudui-analytics-range').on('change', function( e ) {\n\t\t\t\twindow.location.assign( document.location.origin + document.location.pathname + '?tab=' + $('.wpmudui-analytics-tabs .wpmudui-current').data('tab') + '&analytics_range=' + $(this).val() );\n\t\t\t});\n\n\t\t}\n\n\t\tfunction tableFilter() {\n\t\t\t$('.wpmudui-analytics-column-filter').on('change', function( e ) {\n\n\t\t\t\tvar parent = $(this).parents(\".wpmudui-tab-content\"),\n\t\t\t\t    table = $(parent).find('.wpmudui-table');\n\n\t\t\t\t// change which column to show\n\t\t\t\t$(parent).find('.wpmudui-table-views').removeClass( 'wpmudui-current' );\n\t\t\t\t$(parent).find('.wpmudui-table-views.data-' + this.value).addClass( 'wpmudui-current' );\n\n\t\t\t\t// sort the table in descending order according to sort data attribute of selected column\n\t\t\t\tvar items = $(parent).find('.wpmudui-table-item');\n\t\t\t\tvar filter = '.data-' + $(this).val();\n\t\t\t\titems.sort(function(a, b){\n\t\t\t\t\treturn +$(b).find(filter).data('sort') - +$(a).find(filter).data('sort');\n\t\t\t\t});\n\t\t\t\t$(parent).find('.wpmudui-table-sortable').append(items);\n\n\t\t\t\ttable.trigger('reset');\n\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t\t$('.wpmudui-analytics-column-filter').change(); //init\n\n\t\t\t// handle table row clicks\n\t\t\t$('.wpmudui-table-item').on('click', function( e ) {\n\t\t\t\tvar data = {};\n\t\t\t\tdata.action = 'wdp-analytics';\n\t\t\t\tdata.hash = wdp_analytics_ajax.nonce;\n\t\t\t\tdata.type = $(this).data('filter-type');\n\t\t\t\tdata.filter = $(this).data('filter');\n\t\t\t\tdata.range = $('#wpmudui-analytics-range').val();\n\n\t\t\t\tvar parent = $(this).parents(\".wpmudui-tab-content\");\n\t\t\t\tvar label_el = $(this).find('td:first-child');\n\t\t\t\tvar label = $(this).data('label') + ' ' + label_el.text();\n\n\t\t\t\tlabel_el.find('.wpmudui-icon').remove();\n\t\t\t\tlabel_el.prepend('<span class=\"wpmudui-icon wpmudui-icon-loader wpmudui-loading\"></span>');\n\n\t\t\t\t$.post(\n\t\t\t\t\twindow.ajaxurl,\n\t\t\t\t\tdata,\n\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\tif ( response.success ) {\n\t\t\t\t\t\t\twdp_analytics_ajax.current_data = response.data;\n\t\t\t\t\t\t\tupdateTotals($(parent).find('.wpmudui-analytics-column-filter').val());\n\t\t\t\t\t\t\t$('#wpmudui-analytics-search').val(label);\n\t\t\t\t\t\t\t$('.wpmudui-analytics-tabs a[data-tab=\"overview\"]').click();\n\t\t\t\t\t\t\tlabel_el.find('.wpmudui-icon').remove();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlabel_el.find('.wpmudui-icon').remove();\n\t\t\t\t\t\t\tlabel_el.prepend('<span class=\"wpmudui-icon dashicons dashicons-warning\"></span>').find('.wpmudui-icon').fadeOut(2000);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t'json'\n\t\t\t\t)\n\t\t\t\t.always(function() {\n\t\t\t\t}).fail(function(xhr) {\n\t\t\t\t\tlabel_el.find('.wpmudui-icon').remove();\n\t\t\t\t\tlabel_el.prepend('<span class=\"wpmudui-icon dashicons dashicons-warning\"></span>').find('.wpmudui-icon').fadeOut(2000);\n\t\t\t\t});\n\n\t\t\t\te.stopPropagation();\n\t\t\t});\n\t\t}\n\n\t\t// updates and shows the appropriate totals boxes with current data\n\t\tfunction updateTotals(type) {\n\t\t\tvar data = [];\n\t\t\tif (typeof wdp_analytics_ajax.current_data !== 'undefined' && typeof wdp_analytics_ajax.current_data.totals !== 'undefined') {\n\t\t\t\tdata = wdp_analytics_ajax.current_data.totals;\n\t\t\t}\n\n\t\t\t$('.wpmudui-chart-options button').hide();\n\t\t\t$.each(data, function( key, item ) {\n\t\t\t\tvar button = $('.wpmudui-chart-options button[data-type=\"'+key+'\"]');\n\t\t\t\tif ( button.length ) {\n\t\t\t\t\tbutton.find('.wpmudui-chart-option-value').html( item.value );\n\t\t\t\t\tbutton.find('.wpmudui-chart-option-trend').html( item.change );\n\t\t\t\t\tbutton.removeClass('wpmudui-up wpmudui-down wpmudui-none').addClass('wpmudui-'+item.direction);\n\t\t\t\t\tbutton.show();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif ( type ) {\n\t\t\t\tif ( 'unique_pageviews' === type ) {\n\t\t\t\t\ttype = 'pageviews';\n\t\t\t\t}\n\t\t\t\t$('.wpmudui-chart-options button[data-type=\"'+type+'\"]').click();\n\t\t\t} else {\n\t\t\t\t// for some reason :visible filter doesn't work here\n\t\t\t\t$('.wpmudui-chart-options button').filter(function () {\n\t\t\t\t\treturn $(this).css('display') != 'none';\n\t\t\t\t}).filter(':first').click();\n\t\t\t}\n\t\t}\n\n\t\tfunction chartOptions() {\n\n\t\t\tvar $options = $( '.wpmudui-chart-options' ),\n\t\t\t\t$option  = $options.find( 'button' )\n\t\t\t\t;\n\n\t\t\t$option.on( 'click', function( e ) {\n\n\t\t\t\t$option.removeClass( 'wpmudui-current' );\n\t\t\t\t$( this ).addClass( 'wpmudui-current' );\n\n\t\t\t\tinitChart( $( this ).data('type') );\n\n\t\t\t\te.stopPropagation();\n\n\t\t\t} );\n\t\t}\n\n\t\tfunction initAutocomplete() {\n\n\t\t\tvar filters = wdp_analytics_ajax.autocomplete;\n\n\t\t\t$( '.wpmudui-autocomplete' ).autocomplete({\n\t\t\t\tminLength: 2,\n\t\t\t\tsource: filters,\n\t\t\t\tselect: function (e, ui) {\n\t\t\t\t\tconsole.log(ui.item);\n\t\t\t\t\t$( '.wpmudui-autocomplete' ).val(ui.item.label);\n\n\t\t\t\t\tvar data = {};\n\t\t\t\t\tdata.action = 'wdp-analytics';\n\t\t\t\t\tdata.hash = wdp_analytics_ajax.nonce;\n\t\t\t\t\tdata.type = ui.item.value.type;\n\t\t\t\t\tdata.filter = ui.item.value.filter;\n\t\t\t\t\tdata.range = $('#wpmudui-analytics-range').val();\n\n\t\t\t\t\t$('.wpmudui-search-form .wpmudui-icon').remove();\n\t\t\t\t\t$('.wpmudui-autocomplete').before('<span class=\"wpmudui-icon wpmudui-icon-loader wpmudui-loading\"></span>').css('text-indent', '10px');\n\n\t\t\t\t\t$.post(\n\t\t\t\t\t\twindow.ajaxurl,\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tfunction(response) {\n\t\t\t\t\t\t\tif ( response.success ) {\n\t\t\t\t\t\t\t\twdp_analytics_ajax.current_data = response.data;\n\t\t\t\t\t\t\t\tupdateTotals();\n\t\t\t\t\t\t\t\t$('.wpmudui-search-form .wpmudui-icon').fadeOut(400, function() {\n\t\t\t\t\t\t\t\t\t$('.wpmudui-autocomplete').css('text-indent', '0px');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$('.wpmudui-search-form .wpmudui-icon').remove();\n\t\t\t\t\t\t\t\t$('.wpmudui-autocomplete').before('<span class=\"wpmudui-icon dashicons dashicons-warning\"></span>').css('text-indent', '10px');\n\t\t\t\t\t\t\t\t$('.wpmudui-search-form .wpmudui-icon').fadeOut(2000, function() {\n\t\t\t\t\t\t\t\t\t$('.wpmudui-autocomplete').css('text-indent', '0px');\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t'json'\n\t\t\t\t\t)\n\t\t\t\t\t.always(function() {\n\t\t\t\t\t}).fail(function(xhr) {\n\t\t\t\t\t\t$('.wpmudui-search-form .wpmudui-icon').remove();\n\t\t\t\t\t\t$('.wpmudui-autocomplete').before('<span class=\"wpmudui-icon dashicons dashicons-warning\"></span>').css('text-indent', '10px');\n\t\t\t\t\t\t$('.wpmudui-search-form .wpmudui-icon').fadeOut(2000, function() {\n\t\t\t\t\t\t\t$('.wpmudui-autocomplete').css('text-indent', '0px');\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t}).autocomplete( 'widget' ).addClass( 'wpmudui-autocomplete-list' );\n\n\t\t\t// when clearing search revert to overall data\n\t\t\t$( '.wpmudui-autocomplete' ).on(\"input\", function() {\n\t\t\t\tif ( '' === $(this).val() ) {\n\t\t\t\t\twdp_analytics_ajax.current_data = wdp_analytics_ajax.overall_data;\n\t\t\t\t\tupdateTotals();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tfunction initTablePagination(numPerPage) {\n\n\t\t\t// prev page handler\n\t\t\t$('.wpmudui-table ~ .wpmudui-pagination-wrapper .wpmudui-page-prev').on('click', function (e) {\n\t\t\t\tvar $pagination_wrapper = $(this).closest('.wpmudui-pagination-wrapper'),\n\t\t\t\t    $table              = $pagination_wrapper.prev('.wpmudui-table'),\n\t\t\t\t    currentPage         = +$pagination_wrapper.data('current-page');\n\n\t\t\t\tif (!$table.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tcurrentPage--;\n\t\t\t\tif (currentPage < 1) {\n\t\t\t\t\tcurrentPage = 1;\n\t\t\t\t}\n\n\t\t\t\t$pagination_wrapper.data('current-page', currentPage);\n\t\t\t\t$table.trigger('paginate');\n\n\t\t\t});\n\n\t\t\t// next page handler\n\t\t\t$('.wpmudui-table ~ .wpmudui-pagination-wrapper .wpmudui-page-next').on('click', function (e) {\n\t\t\t\tvar $pagination_wrapper = $(this).closest('.wpmudui-pagination-wrapper'),\n\t\t\t\t    $table              = $pagination_wrapper.prev('.wpmudui-table'),\n\t\t\t\t    numRows             = $table.data('rows'),\n\t\t\t\t    numPages            = Math.ceil(numRows / numPerPage),\n\t\t\t\t    currentPage         = +$pagination_wrapper.data('current-page');\n\n\t\t\t\tif (!$table.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tcurrentPage++;\n\t\t\t\tif (currentPage > numPages) {\n\t\t\t\t\tcurrentPage = numPages;\n\t\t\t\t}\n\n\t\t\t\t$pagination_wrapper.data('current-page', currentPage);\n\t\t\t\t$table.trigger('paginate');\n\t\t\t});\n\n\t\t\t// go to page\n\t\t\t$('.wpmudui-table ~ .wpmudui-pagination-wrapper .wpmudui-goto-page').on('change', function (e) {\n\t\t\t\tvar $pagination_wrapper = $(this).closest('.wpmudui-pagination-wrapper'),\n\t\t\t\t    $table              = $pagination_wrapper.prev('.wpmudui-table'),\n\t\t\t\t    numRows             = $table.data('rows'),\n\t\t\t\t    numPages            = Math.ceil(numRows / numPerPage),\n\t\t\t\t    currentPage         = +$(this).val();\n\n\t\t\t\tif (!$table.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif (currentPage < 1) {\n\t\t\t\t\tcurrentPage = 1;\n\t\t\t\t}\n\n\t\t\t\tif (currentPage > numPages) {\n\t\t\t\t\tcurrentPage = numPages;\n\t\t\t\t}\n\n\t\t\t\t$pagination_wrapper.data('current-page', currentPage);\n\t\t\t\t$table.trigger('paginate');\n\n\t\t\t});\n\n\t\t\t// reset page to 1\n\t\t\t$('.wpmudui-table').on('reset', function (e) {\n\t\t\t\tvar $table              = $(this),\n\t\t\t\t    $pagination_wrapper = $table.next('.wpmudui-pagination-wrapper');\n\n\t\t\t\t$pagination_wrapper.data('current-page', 1);\n\t\t\t\t$table.trigger('paginate');\n\t\t\t});\n\n\t\t\t// main paginate function\n\t\t\t$('.wpmudui-table').on('paginate', function (e) {\n\t\t\t\tvar $table              = $(this),\n\t\t\t\t    $pagination_wrapper = $table.next('.wpmudui-pagination-wrapper'),\n\t\t\t\t    numRows             = $table.data('rows'),\n\t\t\t\t    numPages            = Math.ceil(numRows / numPerPage)\n\t\t\t\t;\n\n\t\t\t\t// no pagination markup\n\t\t\t\tif (!$pagination_wrapper.length) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tif (numRows <= numPerPage) {\n\t\t\t\t\t$pagination_wrapper.hide();\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t$pagination_wrapper.find('.wpmudui-page-next').removeAttr('disabled');\n\t\t\t\t$pagination_wrapper.find('.wpmudui-page-prev').removeAttr('disabled');\n\n\t\t\t\t// current page reference\n\t\t\t\tvar currentPage = +$pagination_wrapper.data('current-page');\n\t\t\t\tif (currentPage < 1) {\n\t\t\t\t\tcurrentPage = 1;\n\t\t\t\t}\n\t\t\t\tif (currentPage > numPages) {\n\t\t\t\t\tcurrentPage = numPages;\n\t\t\t\t}\n\n\t\t\t\t$pagination_wrapper.data('current-page', +currentPage);\n\n\t\t\t\t// num rows reference\n\t\t\t\t$pagination_wrapper.data('rows', +numRows);\n\n\t\t\t\t// max and min GO TO\n\t\t\t\t$pagination_wrapper.find('.wpmudui-goto-page').attr('min', 1);\n\t\t\t\t$pagination_wrapper.find('.wpmudui-goto-page').attr('max', numPages);\n\t\t\t\t// set value GO TO\n\t\t\t\t$pagination_wrapper.find('.wpmudui-goto-page').val(currentPage);\n\n\t\t\t\tvar indexRowStart = (currentPage - 1) * numPerPage + 1;\n\t\t\t\tvar indexRowEnd   = currentPage * numPerPage;\n\n\t\t\t\t$pagination_wrapper.find('.wpmudui-start-row').html(indexRowStart);\n\t\t\t\t$pagination_wrapper.find('.wpmudui-end-row').html(indexRowEnd);\n\n\t\t\t\t$table.find('tbody tr').hide().slice(indexRowStart - 1, indexRowEnd).show();\n\n\n\t\t\t\tif (currentPage === 1) {\n\t\t\t\t\t$pagination_wrapper.find('.wpmudui-page-prev').attr('disabled', 'disabled');\n\t\t\t\t}\n\t\t\t\tif (currentPage === numPages) {\n\t\t\t\t\t$pagination_wrapper.find('.wpmudui-page-next').attr('disabled', 'disabled');\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t$('.wpmudui-table').trigger('paginate');\n\n\t\t}\n\n\t\tfunction openForm() {\n\n\t\t\tvar $form   = $( '.wpmudui-search-form' ),\n\t\t\t\t$handle = $form.find( '.wpmudui-handle' )\n\t\t\t\t;\n\n\t\t\t$handle.on( 'click', function() {\n\t\t\t\t$( this ).closest( '.wpmudui-search-form' ).toggleClass( 'wpmudui-open' );\n\t\t\t} );\n\t\t}\n\n\t\tif ( 0 !== $( '.wpmudui-analytics' ).length ) {\n\t\t\twidgetTabs();\n\t\t\ttableFilter();\n\t\t\tinitMomentLocale();\n\t\t\tchartOptions();\n\t\t\tinitAutocomplete();\n\t\t\tinitTablePagination(10);\n\t\t\topenForm();\n\t\t\tupdateTotals();\n\t\t}\n\n\t\tfunction initMomentLocale() {\n\t\t\tvar currentLocale = moment.locale();\n\t\t\tmoment.updateLocale(wdp_analytics_ajax.locale_settings.locale, {\n\t\t\t\t// Inherit anything missing from the default locale.\n\t\t\t\tparentLocale: currentLocale,\n\t\t\t\tmonthsShort: wdp_analytics_ajax.locale_settings.monthsShort,\n\t\t\t\tweekdays: wdp_analytics_ajax.locale_settings.weekdays\n\t\t\t});\n\n\t\t\t// set the locale!\n\t\t\tmoment.locale(wdp_analytics_ajax.locale_settings.locale);\n\t\t}\n\n\t\tfunction initChart($type) {\n\t\t\tvar canvas_element = $(\"#wpmudui-analytics-graph\");\n\t\t\tvar all_data = wdp_analytics_ajax.current_data.chart;\n\n\t\t\t// this creates the nifty new chart type with vertical gray line while hovering over tooltips\n\t\t\tChart.defaults.LineWithLine = Chart.defaults.line;\n\t\t\tChart.controllers.LineWithLine = Chart.controllers.line.extend({\n\t\t\t\tdraw: function(ease) {\n\t\t\t\t\tChart.controllers.line.prototype.draw.call(this, ease);\n\n\t\t\t\t\tif (this.chart.tooltip._active && this.chart.tooltip._active.length) {\n\t\t\t\t\t\tvar activePoint = this.chart.tooltip._active[0],\n\t\t\t\t\t\t\tctx = this.chart.ctx,\n\t\t\t\t\t\t\tx = activePoint.tooltipPosition().x,\n\t\t\t\t\t\t\ttopY = this.chart.scales['y-axis-0'].top,\n\t\t\t\t\t\t\tbottomY = this.chart.scales['y-axis-0'].bottom;\n\n\t\t\t\t\t\t// draw line\n\t\t\t\t\t\tctx.save();\n\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tctx.moveTo(x, topY);\n\t\t\t\t\t\tctx.lineTo(x, bottomY);\n\t\t\t\t\t\tctx.lineWidth = 1;\n\t\t\t\t\t\tctx.strokeStyle = 'rgba(0, 0, 0, 0.1)';\n\t\t\t\t\t\tctx.stroke();\n\t\t\t\t\t\tctx.restore();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tfunction timeFormat(seconds) {\n\t\t\t\tvar minutes = Math.floor(seconds / 60) % 60,\n\t\t\t\t\tseconds = (seconds - minutes * 60);\n\n\t\t\t\tvar lable = '';\n\t\t\t\tif ( minutes ) {\n\t\t\t\t\tlable = lable + minutes + 'm';\n\t\t\t\t}\n\t\t\t\tif ( seconds ) {\n\t\t\t\t\tif ( lable.length ) {\n\t\t\t\t\t\tlable = lable + ' ';\n\t\t\t\t\t}\n\t\t\t\t\tlable = lable + seconds + 's';\n\t\t\t\t}\n\t\t\t\treturn lable;\n\t\t\t}\n\n\t\t\tvar configNum = {\n\t\t\t\ttype: 'LineWithLine',\n\t\t\t\tdata: {\n\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\tlabel: 'NA',\n\t\t\t\t\t\tbackgroundColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tborderColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tborderWidth: 3,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointBorderColor: \"white\",\n\t\t\t\t\t\tpointBackgroundColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tdata: []\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: true\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'x',\n\t\t\t\t\t\tintersect: false,\n\t\t\t\t\t\tdisplayColors: false,\n\t\t\t\t\t\ttitleFontSize: 12,\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: function (tooltipItem, data) {\n\t\t\t\t\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\t\t\t\tif (label) {\n\t\t\t\t\t\t\t\t\tlabel = tooltipItem.yLabel + ' ' + label;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn label;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\ttime: {\n\t\t\t\t\t\t\t\tround: 'day',\n\t\t\t\t\t\t\t\tminUnit: 'day',\n\t\t\t\t\t\t\t\ttooltipFormat: 'dddd, MMM. D'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgridLines: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tsuggestedMax:''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar configPcnt = {\n\t\t\t\ttype: 'LineWithLine',\n\t\t\t\tdata: {\n\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\tlabel: 'NA',\n\t\t\t\t\t\tbackgroundColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tborderColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tborderWidth: 3,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointBorderColor: \"white\",\n\t\t\t\t\t\tpointBackgroundColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tdata: []\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: true\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'x',\n\t\t\t\t\t\tintersect: false,\n\t\t\t\t\t\tdisplayColors: false,\n\t\t\t\t\t\ttitleFontSize: 12,\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: function (tooltipItem, data) {\n\t\t\t\t\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\t\t\t\tif (label) {\n\t\t\t\t\t\t\t\t\tlabel = ( tooltipItem.yLabel * 100 ) + '% ' + label;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn label;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\ttime: {\n\t\t\t\t\t\t\t\tround: 'day',\n\t\t\t\t\t\t\t\tminUnit: 'day',\n\t\t\t\t\t\t\t\ttooltipFormat: 'dddd, MMM. D'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgridLines: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tcallback: function(value) {\n\t\t\t\t\t\t\t\t\treturn Math.round( value * 100 ) + \"%\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tvar configTime = {\n\t\t\t\ttype: 'LineWithLine',\n\t\t\t\tdata: {\n\t\t\t\t\tdatasets: [{\n\t\t\t\t\t\tlabel: 'NA',\n\t\t\t\t\t\tbackgroundColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tborderColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tborderWidth: 3,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointBorderColor: \"white\",\n\t\t\t\t\t\tpointBackgroundColor: \"rgba(0,133,186,0.98)\",\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tdata: []\n\t\t\t\t\t}]\n\t\t\t\t},\n\t\t\t\toptions: {\n\t\t\t\t\tlegend: {\n\t\t\t\t\t\tdisplay: true\n\t\t\t\t\t},\n\t\t\t\t\ttooltips: {\n\t\t\t\t\t\tmode: 'x',\n\t\t\t\t\t\tintersect: false,\n\t\t\t\t\t\tdisplayColors: false,\n\t\t\t\t\t\ttitleFontSize: 12,\n\t\t\t\t\t\tcallbacks: {\n\t\t\t\t\t\t\tlabel: function (tooltipItem, data) {\n\t\t\t\t\t\t\t\tvar label = data.datasets[tooltipItem.datasetIndex].label || '';\n\t\t\t\t\t\t\t\tif (label) {\n\t\t\t\t\t\t\t\t\tlabel = timeFormat( tooltipItem.yLabel ) + ' ' + label;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn label;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tscales: {\n\t\t\t\t\t\txAxes: [{\n\t\t\t\t\t\t\ttype: 'time',\n\t\t\t\t\t\t\ttime: {\n\t\t\t\t\t\t\t\tround: 'day',\n\t\t\t\t\t\t\t\tminUnit: 'day',\n\t\t\t\t\t\t\t\ttooltipFormat: 'dddd, MMM. D'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tgridLines: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}],\n\t\t\t\t\t\tyAxes: [{\n\t\t\t\t\t\t\tscaleLabel: {\n\t\t\t\t\t\t\t\tdisplay: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tticks: {\n\t\t\t\t\t\t\t\tmin: 0,\n\t\t\t\t\t\t\t\tcallback: timeFormat\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}]\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ( typeof all_data[$type] === 'undefined' ) {\n\t\t\t\tconsole.log('Missing chart data for '+$type);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar chartConfig = null;\n\t\t\tif ( $type.includes(\"_rate\") ) {\n\t\t\t\tchartConfig = $.extend(true,{},configPcnt); //copy not by reference;\n\t\t\t} else if ( $type.includes(\"_time\") ) {\n\t\t\t\tchartConfig = $.extend(true,{},configTime); //copy not by reference;\n\t\t\t} else {\n\t\t\t\tchartConfig = $.extend(true,{},configNum); //copy not by reference;\n\n\t\t\t\t//Set YAxis max value for proper curve\n\t\t\t\tvar yAxisData \t = all_data[$type].data.map( ( data ) => data.y ),\n\t\t\t\tyAxisDataMax = Math.max.apply(null, yAxisData),\n\t\t\t\tmax = yAxisDataMax + Math.round( 0.1 * yAxisDataMax );\n\n\t\t\t\t//for small data math round may cause issue\n\t\t\t\t//just increase a number for small data\n\t\t\t\tif( yAxisDataMax === max ){\n\t\t\t\t\tmax++;\n\t\t\t\t}\n\n\t\t\t\tchartConfig.options.scales.yAxes[0].ticks.suggestedMax = max;\n\t\t\t}\n\n\t\t\tchartConfig.data.datasets[0].label = all_data[$type].label;\n\t\t\tchartConfig.data.datasets[0].data = all_data[$type].data;\n\n\t\t\tif ( 'pageviews' === $type ) {\n\t\t\t\tif (typeof all_data['unique_pageviews'] !== 'undefined') {\n\t\t\t\t\tchartConfig.data.datasets.push({\n\t\t\t\t\t\tlabel: all_data['unique_pageviews'].label,\n\t\t\t\t\t\tbackgroundColor: \"purple\",\n\t\t\t\t\t\tborderColor: \"purple\",\n\t\t\t\t\t\tborderWidth: 3,\n\t\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\t\tpointBorderColor: \"white\",\n\t\t\t\t\t\tpointBackgroundColor: \"purple\",\n\t\t\t\t\t\tfill: false,\n\t\t\t\t\t\tdata: all_data['unique_pageviews'].data\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif ( 'visits' === $type ) {\n\t\t\t\tchartConfig.data.datasets.push({\n\t\t\t\t\tlabel: all_data['unique_visits'].label,\n\t\t\t\t\tbackgroundColor: \"purple\",\n\t\t\t\t\tborderColor: \"purple\",\n\t\t\t\t\tborderWidth: 3,\n\t\t\t\t\tpointRadius: 3,\n\t\t\t\t\tpointBorderWidth: 1,\n\t\t\t\t\tpointBorderColor: \"white\",\n\t\t\t\t\tpointBackgroundColor: \"purple\",\n\t\t\t\t\tfill: false,\n\t\t\t\t\tdata: all_data['unique_visits'].data\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// if all values for this chart are null, show empty message\n\t\t\tvar chart_empty = true;\n\t\t\t$.each(all_data[$type].data, function( key, item ) {\n\t\t\t\tif ( item.y !== null ) {\n\t\t\t\t\tchart_empty = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif ( chart_empty ) {\n\t\t\t\tcanvas_element.closest( '.wpmudui-analytics-chart' ).find( '.wpmudui-analytics-chart-empty' ).show();\n\t\t\t} else {\n\t\t\t\tcanvas_element.closest( '.wpmudui-analytics-chart' ).find( '.wpmudui-analytics-chart-empty' ).hide();\n\t\t\t}\n\n\t\t\t// this stops an weird overlapping charts issues\n\t\t\tif ( typeof window.$type !== 'undefined' ) {\n\t\t\t\twindow.$type.destroy();\n\t\t\t}\n\t\t\twindow.$type = new Chart($(canvas_element)[0].getContext('2d'), chartConfig);\n\t\t}\n\n\t} );\n\n}( jQuery ) );\n"],"names":["$","jQuery","updateTotals","type","data","wdp_analytics_ajax","current_data","totals","hide","each","key","item","button","length","find","html","value","change","removeClass","addClass","direction","show","click","filter","this","css","numPerPage","filters","$option","currentLocale","$wrapper","$tabs","$tab","on","e","$this","$parent","closest","$panes","$pane","$datatab","$datapane","parent","stopPropagation","window","location","assign","document","origin","pathname","val","parents","table","items","sort","a","b","append","trigger","hash","nonce","range","label_el","label","text","remove","prepend","post","ajaxurl","response","success","fadeOut","always","fail","xhr","moment","locale","updateLocale","locale_settings","parentLocale","monthsShort","weekdays","$type","canvas_element","all_data","chart","timeFormat","seconds","minutes","Math","floor","lable","Chart","defaults","LineWithLine","line","controllers","extend","draw","ease","prototype","call","tooltip","_active","activePoint","ctx","x","tooltipPosition","topY","scales","top","bottomY","bottom","save","beginPath","moveTo","lineTo","lineWidth","strokeStyle","stroke","restore","configNum","datasets","backgroundColor","borderColor","borderWidth","pointRadius","pointBorderWidth","pointBorderColor","pointBackgroundColor","fill","options","legend","display","tooltips","mode","intersect","displayColors","titleFontSize","callbacks","tooltipItem","datasetIndex","yLabel","xAxes","time","round","minUnit","tooltipFormat","gridLines","scaleLabel","yAxes","ticks","min","suggestedMax","configPcnt","callback","configTime","console","log","chartConfig","includes","yAxisData","map","y","yAxisDataMax","max","apply","push","chart_empty","destroy","getContext","initChart","autocomplete","minLength","source","select","ui","before","preventDefault","overall_data","$pagination_wrapper","$table","prev","currentPage","numRows","numPages","ceil","next","removeAttr","attr","indexRowStart","indexRowEnd","slice","toggleClass"],"sourceRoot":""}